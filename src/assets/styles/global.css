:root {
    --font-fallback: -apple-system, system-ui, BlinkMacSystemFont, sans-serif;
    --font-primary: 'Roboto', var(--font-fallback);
    --font-heading: 'Roboto Condensed', var(--font-primary);
    --font-mono: 'Fira Code', monospace;
    --layout-width: calc(50rem + var(--layout-padding) * 2); /* 800px = 864px */
    --layout-padding: 2rem;
    --header-height: 3.5rem;
    --space-0: 0.5rem;
    --space-1: 0.75rem;
    --space-2: 1rem;
    --space-3: 1.25rem;
    --space-4: 1.5rem;
    --space-5: 2rem;
    --space-6: 2.5rem;
    --space-7: 3.5rem;
    --space-8: 4rem;
    --space-9: 5rem;

    --radius-sm: 0.25rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-full: 9999px;

    --1px: 0.0625rem;
    --2px: 0.125rem;
    --3px: 0.1875rem;
    --4px: 0.25rem;

    --underline-offset: 0.16em;

    --h1: clamp(2rem, 6vw, 2.75rem); /* 32px - 44px */
    --h2: clamp(1.5rem, 5vw, 2rem); /* 24px - 32px */
    --h3: clamp(1.125rem, 4vw, 1.5rem); /* 18px - 24px */
    --h4: clamp(1rem, 3vw, 1.25rem); /* 16px - 20px */

    --p-sm: 0.875rem; /* 14px */
    --p-reg: 1rem; /* 16px */

    --line-height: 1.5;
    --spacing-sm: 1rem;
    --spacing-md: 1.25rem;
    --spacing-lg: 2.25rem;

    --transition-sm: 0.12s ease;
    --transition-md: 0.2s ease;
}
:root,
html[data-theme='light'] {
    color-scheme: light;

    /* ------  TEXT PALETTE */
    --base-text: 225, 2%;
    --palette-text-10: var(--base-text), 10%;
    --palette-text-20: var(--base-text), 20%;
    --palette-text-30: var(--base-text), 36%;
    --palette-text-40: var(--base-text), 40%;
    --palette-text-50: var(--base-text), 50%;
    --palette-text-60: var(--base-text), 60%;
    --palette-text-70: var(--base-text), 70%;
    --palette-text-80: var(--base-text), 80%;
    --palette-text-90: var(--base-text), 90%;
    --palette-text-100: var(--base-text), 100%;

    --text-primary: hsla(var(--palette-text-30), 1);
    --text-secondary: hsla(var(--palette-text-20), 1);

    /* ------ ACCENT PALETTE */
    --base-accent: 69, 54%;
    --palette-accent-10: var(--base-accent), 10%;
    --palette-accent-20: var(--base-accent), 20%;
    --palette-accent-30: var(--base-accent), 37%;
    --palette-accent-40: var(--base-accent), 44%;
    --palette-accent-50: var(--base-accent), 50%;
    --palette-accent-60: var(--base-accent), 60%;
    --palette-accent-70: var(--base-accent), 70%;
    --palette-accent-80: var(--base-accent), 80%;
    --palette-accent-90: var(--base-accent), 90%;
    --palette-accent-100: var(--base-accent), 100%;

    --accent-primary: hsla(var(--palette-accent-40), 1);
    --accent-secondary: hsla(var(--palette-accent-50), 1);
    --accent-icons: hsla(var(--palette-accent-30), 1);

    --link-color: var(--accent-primary);
    --link-hover: var(--accent-secondary);
    --link-visited: hsla(var(--palette-accent-40), 1);
    --link-focus-outline: hsla(var(--palette-accent-60), 1);

    /* ------ BACKGROUND PALETTE */
    --base-bg: 59, 6%;
    --palette-bg-primary: var(--base-bg), 98%;
    --palette-bg-secondary: var(--base-bg), 96%;
    --palette-bg-alt: var(--base-bg), 91%;
    --palette-bg-border: var(--base-bg), 84%;

    --bg-primary: hsla(var(--palette-bg-primary), 1);
    --bg-secondary: hsla(var(--palette-bg-secondary), 1);
    --bg-alt: hsla(var(--palette-bg-alt), 1);
    --bg-header: hsla(var(--palette-bg-primary), 0.9);
    --border-primary: hsla(var(--palette-bg-border), 1);
    --border-secondary: hsla(var(--palette-bg-border), 0.7);

    /* selection */
    --inverse-text: hsla(var(--palette-accent-20), 1);
    --inverse-bg: hsla(var(--palette-accent-70), 0.6);

    /* scrollbar */
    --scrollbar: hsla(var(--palette-text-10), 0.5);
}

/* ---------------- DARK MODE ---------------- */
html[data-theme='dark'] {
    color-scheme: dark;

    /* ------ TEXT PALETTE */
    --base-text: 225, 7%;
    --palette-text-10: var(--base-text), 98%;
    --palette-text-20: var(--base-text), 73%;
    --palette-text-30: var(--base-text), 60%;
    --palette-text-40: var(--base-text), 50%;
    --palette-text-50: var(--base-text), 40%;
    --palette-text-60: var(--base-text), 30%;
    --palette-text-70: var(--base-text), 25%;
    --palette-text-80: var(--base-text), 20%;
    --palette-text-90: var(--base-text), 18%;
    --palette-text-100: var(--base-text), 15%;

    --text-primary: hsla(var(--palette-text-20), 1);
    --text-secondary: hsla(var(--palette-text-10), 1);
    --text-inverse: hsla(var(--palette-text-100), 1);

    /* ------ ACCENT PALETTE */
    --base-accent: 69, 58%;
    --palette-accent-10: var(--base-accent), 85%;
    --palette-accent-20: var(--base-accent), 70%;
    --palette-accent-30: var(--base-accent), 65%;
    --palette-accent-40: var(--base-accent), 45%;
    --palette-accent-50: var(--base-accent), 40%;
    --palette-accent-60: var(--base-accent), 35%;
    --palette-accent-70: var(--base-accent), 30%;
    --palette-accent-80: var(--base-accent), 25%;
    --palette-accent-90: var(--base-accent), 20%;
    --palette-accent-100: var(--base-accent), 15%;

    --accent-primary: hsla(var(--palette-accent-30), 1);
    --accent-secondary: hsla(var(--palette-accent-40), 1);
    --accent-icons: hsla(var(--palette-accent-30), 0.8);

    --link-color: var(--accent-primary);
    --link-hover: var(--accent-secondary);
    --link-visited: hsla(var(--palette-accent-60), 1);
    --link-focus-outline: hsla(var(--palette-accent-20), 1);

    /* ------ BACKGROUND PALETTE */
    --base-bg: 225, 12%;
    --palette-bg-primary: var(--base-bg), 6%;
    --palette-bg-secondary: var(--base-bg), 12%;
    --palette-bg-alt: var(--base-bg), 16%;
    --palette-bg-border: var(--base-bg), 35%;

    --bg-primary: hsla(var(--palette-bg-primary), 1);
    --bg-secondary: hsla(var(--palette-bg-secondary), 1);
    --bg-alt: hsla(var(--palette-bg-alt), 1);
    --bg-header: hsla(var(--palette-bg-primary), 0.9);
    --border-primary: hsla(var(--palette-bg-border), 1);
    --border-secondary: hsla(var(--palette-bg-border), 0.7);

    /* selection */
    --inverse-text: hsla(var(--palette-accent-20), 1);
    --inverse-bg: hsla(var(--palette-accent-90), 0.6);

    /* scrollbar */
    --scrollbar: hsla(var(--palette-accent-60), 1);
}

html {
    font-size: 100%;
    scroll-behavior: smooth;
    transition: none;
    scrollbar-color: var(--scrollbar) var(--bg-alt);
    scrollbar-gutter: stable;
}

html::-webkit-scrollbar {
    width: 0.875rem;
    height: 0.875rem;
}
html::-webkit-scrollbar-track {
    background: transparent;
}
html::-webkit-scrollbar-thumb {
    background-color: var(--text-primary);
    border: var(--1px) solid transparent;
    border-radius: var(--radius-sm);
}

html[data-ready='true'] {
    transition:
        background-color var(--transition-md),
        color var(--transition-md);
}

@media (prefers-reduced-motion: reduce) {
    :root {
        --transition-sm: 0s;
        --transition-md: 0s;
    }
    html {
        scroll-behavior: auto;
    }
    html[data-ready='true'] {
        transition: none;
    }
}

*,
*::before,
*::after {
    box-sizing: border-box;
}

* {
    margin: 0;
}

svg {
    stroke: currentColor;
    stroke-width: 1.75;
    width: 1.375rem;
    height: 1.375rem;
    fill: none;
    stroke-linecap: round;
    stroke-linejoin: round;
}

button {
    font: inherit;
    border: 0;
    background: transparent;
    padding: 0;
    cursor: pointer;
    color: inherit;
    letter-spacing: inherit;
}

p,
h1,
h2,
h3,
h4,
h5,
h6,
ul,
ol,
li {
    overflow-wrap: break-word;
}

ul,
ol {
    padding: 0;
    list-style: none;
}

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0 0 0 0);
    clip-path: inset(50%);
    white-space: nowrap;
    border: 0;
}

::selection {
    background: var(--inverse-bg);
    color: var(--inverse-text);
}

body {
    font-family: var(--font-primary);
    color: var(--text-primary);
    background-color: var(--bg-primary);
    text-rendering: optimizeLegibility;
    overflow-wrap: break-word;
    min-height: 100dvh;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    letter-spacing: 0.02em;
}

main {
    flex: 1;
    margin: 0 auto;
    width: 100%;
    max-width: var(--layout-width);
    padding: var(--space-7) var(--layout-padding);
}

section {
    width: 100%;
    max-width: 34rem;
    margin: 0 auto;
}
h1 {
    font-size: var(--h1);
}

h2 {
    font-size: var(--h2);
}

h3 {
    font-size: var(--h3);
}

h4 {
    font-size: var(--h4);
}

h1,
h2,
h3,
h4 {
    font-family: var(--font-heading);
    letter-spacing: 0;
    color: var(--text-secondary);
    line-height: var(--line-height);
    margin: var(--spacing-lg) 0 var(--spacing-sm) 0;
}
p {
    line-height: var(--line-height);
    margin: var(--spacing-md) 0;
}

a {
    color: var(--link-color);
    text-decoration: none;
    overflow-wrap: anywhere;
}

a:hover {
    color: var(--link-hover);
}

button:focus-visible {
    outline-offset: var(--2px);
    border-radius: var(--2px);
    -moz-outline-radius: var(--2px);
    outline: var(--2px) solid var(--text-secondary);
}

a:focus-visible {
    outline: var(--2px) solid var(--link-focus-outline);
    outline-offset: var(--2px);
    border-radius: var(--2px);
    -moz-outline-radius: var(--2px);
}

section a:hover {
    color: var(--accent-secondary);
    text-decoration: underline;
    text-underline-offset: var(--underline-offset);
    text-decoration-thickness: var(--2px);
}

.divider {
    display: block;
    height: 1px;
    margin-block: var(--space-7);
    background-image: repeating-linear-gradient(
        to right,
        var(--border-secondary) 0 7px,
        transparent 7px 10px
    );
    background-size: auto 100%;
}
