:root {
    --font-fallback: -apple-system, system-ui, BlinkMacSystemFont, sans-serif;
    --font-primary: 'Inter', var(--font-fallback);
    --font-heading: 'Playfair Display', serif, var(--font-primary);
    --font-mono: 'Inconsolata', monospace;
    --layout-width: calc(64rem - var(--layout-padding) * 2); /* 1024px - 64px = 960px */
    --layout-padding: 2rem;
    --section-width: 36rem;
    --header-height: 3.75rem;
    --space-0: 0.5rem;
    --space-1: 0.75rem;
    --space-2: 1rem;
    --space-3: 1.25rem;
    --space-4: 1.5rem;
    --space-5: 2rem;
    --space-6: 2.5rem;
    --space-7: 3.5rem;
    --space-8: 4rem;
    --space-9: 5rem;

    --1px: 0.0625rem;
    --2px: 0.125rem;
    --3px: 0.1875rem;
    --4px: 0.25rem;
    --5px: 0.3125rem;
    --6px: 0.375rem;

    --radius-sx: 0.1875rem;
    --radius-sm: 0.25rem;
    --radius-md: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-xl: 1rem;
    --radius-full: 9999px;

    --underline-offset: 0.1em;
    --underline-thickness: 0.125em;

    --text-xs: 0.75rem; /* 12px */
    --text-sm: 0.875rem; /* 14px */
    --text-md: 1rem; /* 16px */

    --h1: clamp(2rem, 6vw, 2.75rem); /* 32px - 44px */
    --h2: clamp(1.5rem, 5vw, 2rem); /* 24px - 32px */
    --h3: clamp(1.125rem, 4vw, 1.5rem); /* 18px - 24px */
    --h4: clamp(1rem, 3vw, 1.25rem); /* 16px - 20px */

    --line-height-p: 1.75;
    --line-height-sub: 1.5;
    --line-height-heading: 1.12;

    --text-margin-sm: 1rem;
    --text-margin-md: 1.25rem;
    --text-margin-lg: 2.25rem;

    --cubic-smooth: 0.18s cubic-bezier(0.25, 0.8, 0.3, 1);
    --cubic-snappy: 0.28s cubic-bezier(0.4, 0, 0.2, 1);

    --neutral-hue: 283;
    --purple-hue: 288;
    --peach-hue: 19;
}

/*

OK = uses the OKLab color model
L = Lightness
C = Chroma (color intensity)
H = Hue (the “color wheel” angle in degrees)

*/

:root,
html[data-theme='light'] {
    color-scheme: light;
    --text: oklch(0.53 0.01 var(--neutral-hue));
    --text-alt: oklch(0.35 0.01 var(--neutral-hue));
    --bg: oklch(0.98 0 var(--neutral-hue));
    --bg-header: oklch(0.98 0 var(--neutral-hue) / 0.88);
    --bg-alt: oklch(0.948 0.0016 var(--neutral-hue));
    --border: oklch(0.88 0.01 var(--neutral-hue));
    --purple-accent: oklch(0.6 0.095 var(--purple-hue));
    --purple-bg: oklch(0.9 0.026 var(--purple-hue) / 0.7);
    --purple-border: oklch(0.85 0.06 var(--purple-hue));
    --peach-accent: oklch(0.8 0.07 var(--peach-hue));
    --peach-bg: oklch(0.94 0.026 var(--peach-hue) / 0.65);
    --peach-border: oklch(0.9 0.036 var(--peach-hue));
    --inverse-text: oklch(0.28 0.01 var(--purple-hue));
    --inverse-bg: oklch(0.9 0.036 var(--purple-hue));
    --scroll-bar: oklch(0.85 0.04 var(--peach-hue));
}

html[data-theme='dark'] {
    color-scheme: dark;
    --text: oklch(0.7 0.015 var(--neutral-hue));
    --text-alt: oklch(0.92 0.01 var(--neutral-hue));
    --bg: oklch(0.25 0.007 var(--neutral-hue));
    --bg-header: oklch(0.25 0.007 var(--neutral-hue) / 0.9);
    --bg-alt: oklch(0.295 0.009 var(--neutral-hue));
    --border: oklch(0.4 0.02 var(--neutral-hue));
    --purple-accent: oklch(0.72 0.084 var(--purple-hue));
    --purple-bg: oklch(0.56 0.1 var(--purple-hue) / 0.2);
    --purple-border: oklch(0.45 0.065 var(--purple-hue));
    --peach-accent: oklch(0.8 0.07 var(--peach-hue));
    --peach-bg: oklch(0.88 0.18 var(--peach-hue) / 0.1);
    --peach-border: oklch(0.7 0.09 var(--peach-hue) / 0.5);
    --inverse-text: oklch(0.94 0.1 var(--purple-hue));
    --inverse-bg: oklch(0.44 0.06 var(--purple-hue) / 0.8);
    --scroll-bar: oklch(0.85 0.07 var(--peach-hue) / 0.8);
}

html {
    font-size: 100%;
    scroll-behavior: smooth;
    transition: none;
    scrollbar-color: var(--scroll-bar) transparent;
    scrollbar-gutter: stable;
}

html::-webkit-scrollbar {
    width: 0.875rem;
    height: 0.875rem;
}
html::-webkit-scrollbar-track {
    background: transparent;
}
html::-webkit-scrollbar-thumb {
    background-color: var(--scroll-bar);
    border: var(--1px) solid transparent;
    border-radius: var(--radius-sm);
}

html[data-ready='true'] {
    transition:
        background-color var(--transition-md),
        color var(--transition-md);
}

@media (prefers-reduced-motion: reduce) {
    :root {
        --transition-sm: 0s;
        --transition-md: 0s;
    }
    html {
        scroll-behavior: auto;
    }
    html[data-ready='true'] {
        transition: none;
    }
}

*,
*::before,
*::after {
    box-sizing: border-box;
}

* {
    margin: 0;
}

svg {
    stroke: currentColor;
    stroke-width: 1.75;
    width: 1.375rem;
    height: 1.375rem;
    fill: none;
    stroke-linecap: round;
    stroke-linejoin: round;
}

button {
    font: inherit;
    border: 0;
    background: transparent;
    padding: 0;
    cursor: pointer;
    color: inherit;
}

p,
h1,
h2,
h3,
h4,
h5,
h6,
ul,
ol,
li {
    overflow-wrap: break-word;
}

ul,
ol {
    padding: 0;
    list-style: none;
}

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0 0 0 0);
    clip-path: inset(50%);
    white-space: nowrap;
    border: 0;
}

::selection {
    background: var(--inverse-bg);
    color: var(--inverse-text);
}

body {
    font-family: var(--font-primary);
    font-size: var(--text-md);
    color: var(--text);
    background-color: var(--bg);
    text-rendering: optimizeLegibility;
    overflow-wrap: break-word;
    min-height: 100dvh;
    line-height: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    letter-spacing: 0.01em;
}

a {
    color: var(--purple-accent);
    overflow-wrap: anywhere;
    text-decoration-skip-ink: auto;
    transition: all var(--cubic-smooth);
    text-decoration: underline;
    text-decoration-color: transparent;
    text-underline-offset: var(--underline-offset);
    text-decoration-thickness: var(--underline-thickness);
}
p a {
    line-height: var(--line-height-p);
    font-weight: 600;
}
a:hover {
    color: var(--peach-accent);
    text-decoration: underline;
    text-decoration-color: var(--purple-accent);
    text-underline-offset: var(--underline-offset);
    text-decoration-thickness: var(--underline-thickness);
}

button:focus-visible,
a:focus-visible {
    outline: var(--2px) solid;
    outline-offset: var(--4px);
    border-radius: var(--2px);
    transition: 0s;
}

button:focus-visible {
    outline-color: var(--text-alt);
}

a:focus-visible {
    outline-color: var(--peach-accent);
}

main {
    flex: 1;
    margin: 0 auto;
    width: 100%;
    max-width: var(--layout-width);
    padding: var(--space-8) var(--layout-padding);
    display: grid;
    align-content: start;
    gap: var(--space-7);
}

main:has(.sidebar) {
    grid-template-columns: minmax(0, var(--section-width)) minmax(14rem, 1fr);
}

main:not(:has(.sidebar)) {
    grid-template-columns: 1fr;
    gap: 0;
}
.sidebar {
    position: sticky;
    top: calc(var(--header-height) + var(--space-4));
    align-self: start;
}
@media (max-width: 703px) {
    main:has(.sidebar) {
        grid-template-columns: 1fr;
    }

    .sidebar {
        order: 0;
    }
    section {
        order: 1;
    }
}

section {
    width: 100%;
    margin: 0 auto;
}

main:not(:has(.sidebar)) section {
    max-width: var(--section-width);
}
main > h1 {
    grid-column: 1 / -1;
}
main:not(:has(.sidebar)) h1 {
    margin: 0 auto;
    width: 100%;
    max-width: var(--section-width);
    margin-bottom: var(--text-margin-sm);
}

h1,
h2,
h3,
h4 {
    color: var(--text-alt);
    line-height: var(--line-height-heading);
    margin: var(--text-margin-sm) 0;
}
h1,
h2 {
    font-family: var(--font-heading);
    font-weight: 700;
}

h1 {
    font-size: var(--h1);
    margin: 0;
}

h2 {
    font-size: var(--h2);
}

h3 {
    font-size: var(--h3);
    font-weight: 600;
}

h4 {
    font-size: var(--h4);
    font-weight: 600;
}

article h2,
article h3,
article h4 {
    margin: var(--text-margin-lg) 0 var(--text-margin-sm) 0;
}

p {
    margin: var(--text-margin-md) 0;
    line-height: var(--line-height-p);
}

.mono-sm {
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    font-weight: 500;
}

.divider {
    display: block;
    height: 1px;
    margin-block: var(--space-8);
    background-image: repeating-linear-gradient(
        to right,
        var(--border) 0 7px,
        transparent 7px 10px
    );
    background-size: auto 100%;
}

img {
    max-width: 100%;
    height: auto;
}
