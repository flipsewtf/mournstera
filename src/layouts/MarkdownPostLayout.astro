---
import BaseLayout from './BaseLayout.astro';
import '../assets/styles/blog.css';

const { frontmatter } = Astro.props;
---

<BaseLayout pageTitle={frontmatter.title} isPost={true}>
    <article class="post-entry">
        <h1>{frontmatter.title}</h1>

        <p><em>{frontmatter.description}</em></p>

        <span class="sr-only">Published on </span>
        <time
            datetime={frontmatter.pubDate.toISOString()}
            aria-label={`Published on ${frontmatter.pubDate.toLocaleDateString('en-GB', {
                weekday: 'long',
                day: 'numeric',
                month: 'long',
                year: 'numeric',
            })}`}
        >
            {
                frontmatter.pubDate.toLocaleDateString('en-GB', {
                    weekday: 'long',
                    day: 'numeric',
                    month: 'long',
                    year: 'numeric',
                })
            }
        </time>

        {
            frontmatter.tags?.length > 0 && (
                <ul class="tags" aria-label="Tags for this post">
                    {frontmatter.tags.map((tag: string) => (
                        <li>
                            <a href={`/blog/tags/${tag}`}>{tag}</a>
                        </li>
                    ))}
                </ul>
            )
        }

        {
            frontmatter.image?.url && (
                <img src={frontmatter.image.url} alt={frontmatter.image.alt ?? ''} />
            )
        }

        <slot />
    </article>
</BaseLayout>
