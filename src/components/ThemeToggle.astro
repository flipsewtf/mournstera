---
import ThemeSun from './icons/ThemeSun.svg';
import ThemeMoon from './icons/ThemeMoon.svg';
---

<button class="theme-toggle actions" type="button" aria-label="Toggle theme" aria-pressed="false">
    <ThemeSun />
    <ThemeMoon />
</button>

<style>
    button.theme-toggle {
        display: inline-flex;
        border-radius: var(--radius-sm);
        color: hsl(var(--bg-primary));
        background-color: hsl(var(--text-primary));
        position: relative;
        width: 1.875rem;
        height: 1.875rem;
        align-items: center;
        justify-content: center;
        flex: none;
    }
    button.theme-toggle:focus-visible {
        outline: 3px solid hsl(var(--accent-primary));
        outline-offset: 3px;
    }

    .sun,
    .moon {
        width: 1rem;
        height: 1rem;
        position: absolute;
        transform-origin: center;
        transition: none;
    }

    @media (prefers-reduced-motion: no-preference) {
        html[data-ready='true'] .sun,
        html[data-ready='true'] .moon {
            transition:
                opacity 0.15s ease,
                transform 0.25s cubic-bezier(0.8, -0.5, 0.2, 1.4);
        }
    }

    /* Light mode */
    .sun {
        opacity: 1;
        transform: rotate(0deg) scale(1);
    }

    .moon {
        opacity: 0;
        transform: rotate(-180deg) scale(0.5);
    }

    /* Dark mode */
    :global([data-theme='dark']) .sun {
        opacity: 0;
        transform: rotate(180deg) scale(0.5);
    }

    :global([data-theme='dark']) .moon {
        opacity: 1;
        transform: rotate(0deg) scale(1);
    }
</style>

<script src="/scripts/theme-toggle.js" is:inline></script>
