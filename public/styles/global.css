@font-face {
    font-family: 'InterVariable';
    font-style: normal;
    font-weight: 100 900;
    font-display: swap;
    src: url('/fonts/InterVariable.woff2') format('woff2');
}

@font-face {
    font-family: 'InterVariable';
    font-style: italic;
    font-weight: 100 900;
    font-display: swap;
    src: url('/fonts/InterVariable-Italic.woff2') format('woff2');
}
@font-face {
    font-family: 'Fira Mono';
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    src: url('/fonts/FiraMono-Regular.woff2') format('woff2');
}

@font-face {
    font-family: 'Fira Mono';
    font-style: normal;
    font-weight: 500;
    font-display: swap;
    src: url('/fonts/FiraMono-Medium.woff2') format('woff2');
}

@font-face {
    font-family: 'Fira Mono';
    font-style: normal;
    font-weight: 700;
    font-display: swap;
    src: url('/fonts/FiraMono-Bold.woff2') format('woff2');
}

:root {
    --font-fallback: -apple-system, system-ui, BlinkMacSystemFont, sans-serif;
    --font-primary: 'Inter', var(--font-fallback);
    --font-mono: 'Fira Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    --layout-width: 64rem; /* 1024px (960px with padding) */
    --layout-padding: 2rem;
    --section-width: 36.25rem;
    --header-height: 4rem;
    --space-0: 0.5rem;
    --space-1: 0.75rem;
    --space-2: 1rem;
    --space-3: 1.25rem;
    --space-4: 1.5rem;
    --space-5: 2rem;
    --space-6: 2.5rem;
    --space-7: 3.5rem;
    --space-8: 4rem;
    --space-9: 5rem;

    --px1: 0.0625rem;
    --px2: 0.125rem;
    --px3: 0.1875rem;
    --px4: 0.25rem;
    --px5: 0.3125rem;
    --px6: 0.375rem;

    --radius-sx: 0.1875rem;
    --radius-sm: 0.25rem;
    --radius-md: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-xl: 1rem;
    --radius-full: 9999px;

    --underline-offset: 0.1em;
    --underline-thickness: 0.125em;

    --text-xs: 0.75rem;
    --text-sm: 0.875rem;
    --text-md: 1rem;

    --h1: clamp(2.25rem, 6vw, 3rem);
    --h2: clamp(1.625rem, 5vw, 2rem);
    --h3: clamp(1.125rem, 4vw, 1.5rem);
    --h4: clamp(1rem, 3vw, 1.25rem);

    --line-height-p: 1.75;
    --line-height-sub: 1.4;
    --line-height-heading: 1.12;

    --text-margin-sm: 1rem;
    --text-margin-md: 1.25rem;
    --text-margin-lg: 2.25rem;

    --cubic-smooth: 0.16s cubic-bezier(0.25, 0.8, 0.3, 1);
    --cubic-snappy: 0.25s cubic-bezier(0.4, 0, 0.2, 1);

    --neutral-hue: 283;
    --purple-hue: 288;
    --peach-hue: 19;
}

@supports (font-variation-settings: normal) {
    :root {
        --font-primary: 'InterVariable', var(--font-fallback);
        font-optical-sizing: auto; /* optional */
    }
}

/*

OK = uses the OKLab color model
L = Lightness
C = Chroma (color intensity)
H = Hue (the "color wheel" angle in degrees)

*/

:root,
html[data-theme='light'] {
    color-scheme: light;
    --text: oklch(0.53 0.01 var(--neutral-hue));
    --text-alt: oklch(0.35 0.01 var(--neutral-hue));
    --bg: oklch(0.98 0 var(--neutral-hue));
    --bg-header: oklch(0.98 0 var(--neutral-hue) / 0.88);
    --bg-alt: oklch(0.948 0.0016 var(--neutral-hue));
    --border: oklch(0.82 0.01 var(--neutral-hue));
    --purple-accent: oklch(0.6 0.095 var(--purple-hue));
    --purple-bg: oklch(0.9 0.026 var(--purple-hue) / 0.7);
    --purple-border: oklch(0.85 0.06 var(--purple-hue));
    --peach-accent: oklch(0.76 0.075 var(--peach-hue));
    --peach-bg: oklch(0.94 0.026 var(--peach-hue) / 0.65);
    --peach-border: oklch(0.87 0.036 var(--peach-hue));
    --inverse-text: oklch(0.28 0.01 var(--purple-hue));
    --inverse-bg: oklch(0.9 0.036 var(--purple-hue));
    --scroll-bar: oklch(0.76 0.02 var(--neutral-hue));
}

html[data-theme='dark'] {
    color-scheme: dark;
    --text: oklch(0.7 0.015 var(--neutral-hue));
    --text-alt: oklch(0.92 0.01 var(--neutral-hue));
    --bg: oklch(0.25 0.007 var(--neutral-hue));
    --bg-header: oklch(0.25 0.007 var(--neutral-hue) / 0.9);
    --bg-alt: oklch(0.295 0.009 var(--neutral-hue));
    --border: oklch(0.4 0.02 var(--neutral-hue));
    --purple-accent: oklch(0.72 0.084 var(--purple-hue));
    --purple-bg: oklch(0.56 0.1 var(--purple-hue) / 0.2);
    --purple-border: oklch(0.45 0.065 var(--purple-hue));
    --peach-accent: oklch(0.8 0.07 var(--peach-hue));
    --peach-bg: oklch(0.88 0.18 var(--peach-hue) / 0.1);
    --peach-border: oklch(0.72 0.04 var(--peach-hue) / 0.55);
    --inverse-text: oklch(0.94 0.1 var(--purple-hue));
    --inverse-bg: oklch(0.44 0.06 var(--purple-hue) / 0.8);
    --scroll-bar: oklch(0.47 0.024 var(--neutral-hue));
}

html {
    font-size: 100%;
    scroll-behavior: smooth;
    transition: none;
    scrollbar-gutter: stable;
}
@supports selector(::-webkit-scrollbar) {
    html::-webkit-scrollbar {
        width: 0.875rem;
        height: 0.875rem;
    }
    html::-webkit-scrollbar-track {
        background: var(--bg-alt);
    }
    html::-webkit-scrollbar-thumb {
        background-color: var(--scroll-bar);
        border: var(--px2) solid var(--scroll-bar);
        border-radius: var(--radius-sm);
    }
    html::-webkit-scrollbar-thumb:hover {
        background-color: var(--purple-accent);
        border-color: var(--purple-accent);
    }
    html::-webkit-scrollbar-corner {
        background: var(--bg-alt);
    }
}

@-moz-document url-prefix() {
    html {
        scrollbar-color: var(--scroll-bar) var(--bg-alt);
    }
}

html[data-ready='true'] {
    transition:
        background-color var(--transition-md),
        color var(--transition-md);
}

@media (prefers-reduced-motion: reduce) {
    :root {
        --cubic-smooth: 0s;
        --cubic-snappy: 0s;
    }
    html {
        scroll-behavior: auto;
    }
    html[data-ready='true'] {
        transition: none;
    }
}

*,
*::before,
*::after {
    box-sizing: border-box;
}

* {
    margin: 0;
}

svg {
    stroke: currentColor;
    stroke-width: 1.75;
    width: 1.5rem;
    height: 1.5rem;
    fill: none;
    stroke-linecap: round;
    stroke-linejoin: round;
}

button {
    font: inherit;
    border: 0;
    background: transparent;
    padding: 0;
    cursor: pointer;
    color: inherit;
}

p,
h1,
h2,
h3,
h4,
h5,
h6,
ul,
ol,
li {
    overflow-wrap: break-word;
}

ul,
ol {
    padding: 0;
    list-style: none;
}

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0 0 0 0);
    clip-path: inset(50%);
    white-space: nowrap;
    border: 0;
}

::selection {
    background: var(--inverse-bg);
    color: var(--inverse-text);
}

body {
    font-family: var(--font-primary);
    font-size: var(--text-md);
    color: var(--text);
    background-color: var(--bg);
    text-rendering: optimizeLegibility;
    overflow-wrap: break-word;
    min-height: 100dvh;
    line-height: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    letter-spacing: 0.015em;
}

/* -------------- LAYOUT: standard (all content is var(--section-width)  */
.mobile {
    display: none;
}
.desktop {
    display: inline-block;
}
main {
    flex: 1;
    margin: 0 auto;
    width: 100%;
    max-width: var(--layout-width);
    padding: var(--space-9) var(--layout-padding);
}

.layout-container {
    width: 100%;
    margin: 0 auto;
    max-width: var(--section-width);
}

section.main-content {
    width: 100%;
}
main > h1 {
    margin: 0 auto;
    width: 100%;
    max-width: var(--section-width);
    margin-bottom: var(--text-margin-lg);
}

main:has(.layout-container.has-upper) > h1,
main:has(.layout-container.has-sidebar) > h1 {
    max-width: var(--layout-width);
}
/* -------------- LAYOUT: upper-section */

.layout-container.has-upper {
    max-width: var(--layout-width);
}
main:has(.layout-container.has-upper) > h1 {
    max-width: var(--layout-width);
}
/* -------------- LAYOUT: sidebar  */

.layout-container.has-sidebar {
    display: flex;
    flex-direction: row-reverse;
    justify-content: space-between;
    gap: var(--space-9);
    margin-top: var(--space-8);
    max-width: var(--layout-width);

    section.main-content {
        flex: 1 1 var(--section-width);
        min-width: 20rem;
        max-width: var(--section-width);
    }
    aside.sidebar {
        flex: 0 0
            calc(
                var(--layout-width) - var(--section-width) - var(--space-9) -
                    (var(--layout-padding) * 2)
            );
    }
    .sidebar-inner {
        position: sticky;
        top: calc(var(--header-height) + var(--space-6));
    }
}

/* -------------- ALL LAYOUTS: @media  */

@media (max-width: 767px) {
    .desktop {
        display: none;
    }
    .mobile {
        display: inline-block;
    }
    .layout-container.has-sidebar {
        flex-direction: column;

        aside.sidebar {
            flex: unset;
        }
        .sidebar-inner {
            position: relative;
            top: unset;
        }
        section.main-content {
            flex: unset;
            min-width: unset;
        }
    }
}

a {
    color: var(--purple-accent);
    overflow-wrap: anywhere;
    text-decoration-skip-ink: auto;
    transition:
        color var(--cubic-smooth),
        background-color var(--cubic-smooth),
        text-decoration-color var(--cubic-smooth);
    text-decoration: underline;
    text-decoration-color: transparent;
    text-underline-offset: var(--underline-offset);
    text-decoration-thickness: var(--underline-thickness);
}
p a {
    line-height: var(--line-height-p);
    font-weight: 600;
}
a:hover {
    color: var(--peach-accent);
    text-decoration: underline;
    text-decoration-color: var(--purple-accent);
    text-underline-offset: var(--underline-offset);
    text-decoration-thickness: var(--underline-thickness);
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    a {
        transition: none !important;
    }
}

button:focus-visible,
a:focus-visible {
    outline: var(--px3) solid;
    outline-offset: var(--px4);
    transition: 0s;
}

button:focus-visible {
    outline-color: var(--text);
}

a:focus-visible {
    outline-color: var(--purple-accent);
    border-radius: var(--px3);
}

h1,
h2,
h3,
h4,
h5,
h6 {
    color: var(--text-alt);
    line-height: var(--line-height-heading);
    margin: var(--text-margin-sm) 0;
    font-weight: 700;
}

h1 {
    font-size: var(--h1);
    margin: 0;
}

h2 {
    font-size: var(--h2);
}

h3 {
    font-size: var(--h3);
}

h4 {
    font-size: var(--h4);
}

article h2,
article h3,
article h4 {
    margin: var(--text-margin-lg) 0 var(--text-margin-sm) 0;
}

p {
    margin: var(--text-margin-md) 0;
    line-height: var(--line-height-p);
}

.divider {
    display: block;
    height: 1px;
    margin-block: var(--space-8);
    background-image: repeating-linear-gradient(
        to right,
        var(--peach-border) 0 4px,
        transparent 4px 6px
    );
    background-size: auto 100%;
}

img {
    max-width: 100%;
    height: auto;
}

a.external-link {
    display: inline;

    svg.external-link-icon {
        color: var(--peach-accent);
        height: 1.25em;
        width: 1.25em;
        vertical-align: text-bottom;
        margin-left: 0.25em;
    }
}

/* If list-style needed */

ul.needed,
ol.needed {
    margin: var(--text-margin-md) 0;
    padding-left: var(--space-6);
}

ul.needed li,
ol.needed li {
    margin: 0;
    padding-left: var(--space-0);
    line-height: var(--line-height-p);
}

ul.needed li:hover::marker,
ol.needed li:hover::marker {
    color: var(--text-alt);
}

/* Nested lists */
ul.needed ul,
ul.needed ol,
ol.needed ul,
ol.needed ol {
    padding-left: var(--space-3);
}

ul.needed li::marker {
    color: var(--purple-accent);
    content: 'âžœ ';
    transition: color var(--cubic-smooth);
}

ol.needed {
    list-style: decimal;

    li::marker {
        color: var(--purple-accent);
        font-weight: 500;
    }
}

ul.needed ul {
    list-style: circle;
    margin: var(--space-0) 0;
}
ol.needed ol {
    list-style: lower-alpha;
    margin: var(--space-0) 0;
}
